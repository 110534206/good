邏輯修正：指導老師審核關聯 (Cursor Context)1. 問題分析 (Problem)目前系統中，學生投遞職缺的紀錄（student_job_applications）共有 5 筆，但指導老師端的審核紀錄（resume_teacher）卻只有 4 筆。核心錯誤原因：舊設計：resume_teacher 使用 resume_id 作為關聯外鍵。邏輯缺陷：當學生使用「同一份履歷 (ID: 217)」投遞給「兩家不同公司 (ID: 72, 143)」時，student_job_applications 會產生 2 筆申請紀錄，但 resume_teacher 若僅以 resume_id 紀錄，則會發生覆蓋或漏計，無法針對「不同公司的投遞行為」進行獨立審核。2. 修正方案 (Solution)必須將指導老師的審核對象從「履歷」遷移至「投遞紀錄」。A. 資料庫異動邏輯移除：resume_teacher.resume_id新增：resume_teacher.application_id (FK 關聯至 student_job_applications.id)B. 預期行為更新一對多關係：1 份履歷 $\to$ 多個投遞動作 (student_job_applications)。一對一關係：每個投遞動作 $\to$ 1 筆老師審核紀錄 (resume_teacher)。結果：投遞 5 間公司，resume_teacher 就會精確產生 5 筆紀錄，數量完全對齊。3. SQL 異動指令 (Migration)SQL-- 1. 清空舊紀錄（因舊關聯已失效）
TRUNCATE TABLE `resume_teacher`;

-- 2. 修改欄位：移除 resume_id，加入 application_id
ALTER TABLE `resume_teacher` DROP COLUMN `resume_id`;
ALTER TABLE `resume_teacher` ADD COLUMN `application_id` int(11) NOT NULL AFTER `id`;

-- 3. 建立正確的外鍵約束
ALTER TABLE `resume_teacher` 
ADD CONSTRAINT `fk_review_application` 
FOREIGN KEY (`application_id`) REFERENCES `student_job_applications` (`id`) ON DELETE CASCADE;
4. 給 Cursor 的開發指令當你在撰寫「學生投遞職缺」或「老師讀取審核清單」的功能時，請遵循以下邏輯：儲存投遞 (Store Application)：首先 INSERT 進入 student_job_applications。取得該次寫入的 id (即 application_id)。接著 INSERT 進入 resume_teacher，將該 application_id 寫入。查詢審核 (Fetch Review)：查詢時請使用 JOIN student_job_applications 透過 application_id 進行串接，以獲取學生投遞的公司資訊與職缺詳情。

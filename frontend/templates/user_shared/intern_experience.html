<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>å­¸é•·å§Šå¯¦ç¿’å¿ƒå¾—åˆ†äº«å€</title>
  <style>
    body { font-family: "å¾®è»Ÿæ­£é»‘é«”"; margin: 40px; }
    h2 { color: #2b5797; }
    form {
      background: #f0f4fa;
      padding: 20px;
      border-radius: 10px;
      margin-bottom: 30px;
    }
    input, textarea, select {
      width: 100%;
      margin-bottom: 12px;
      padding: 8px;
      border-radius: 6px;
      border: 1px solid #ccc;
    }
    button {
      background-color: #2b5797;
      color: white;
      padding: 8px 16px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    .card {
      border: 1px solid #ccc;
      padding: 15px;
      border-radius: 10px;
      margin-bottom: 12px;
      background: #fff;
    }
    .card h3 { margin-top: 0; }
  </style>
</head>
<body>
  <h2>ğŸ“ ä¸Šå‚³å¯¦ç¿’å¿ƒå¾—</h2>
  <form action="/" method="POST">
    <label>å§“åï¼š</label>
    <input type="text" name="author" placeholder="åŒ¿åå­¸é•·å§Š">

    <label>å…¬å¸åç¨±ï¼š</label>
    <input type="text" name="company" required>

    <label>è·ä½åç¨±ï¼š</label>
    <input type="text" name="position" required>

    <label>å¿ƒå¾—æ¨™é¡Œï¼š</label>
    <input type="text" name="title" required>

    <label>å¿ƒå¾—å…§å®¹ï¼š</label>
    <textarea name="content" rows="6" required></textarea>

    <button type="submit">ä¸Šå‚³å¿ƒå¾—</button>
  </form>

  <h2> å¯¦ç¿’å¿ƒå¾—ç´€éŒ„</h2>
  <label>ç¯©é¸å…¬å¸ï¼š</label>
  <select id="companyFilter" onchange="filterByCompany()">
    <option value="all">å…¨éƒ¨</option>
    {% for company in companies %}
      <option value="{{ company }}">{{ company }}</option>
    {% endfor %}
  </select>

  <div id="experienceList">
    {% for exp in experiences %}
      <div class="card" data-company="{{ exp.company }}">
        <h3>{{ exp.title }}</h3>
        <p><strong>å…¬å¸ï¼š</strong>{{ exp.company }}</p>
        <p><strong>è·ä½ï¼š</strong>{{ exp.position }}</p>
        <p><strong>ä½œè€…ï¼š</strong>{{ exp.author }}</p>
        <p><strong>ä¸Šå‚³æ™‚é–“ï¼š</strong>{{ exp.created_at }}</p>
        <hr>
        <p>{{ exp.content }}</p>
      </div>
    {% else %}
      <p>ç›®å‰é‚„æ²’æœ‰ä»»ä½•å¿ƒå¾— ğŸ™Œ</p>
    {% endfor %}
  </div>

  <script>
    function filterByCompany() {
      const selected = document.getElementById('companyFilter').value;
      const cards = document.querySelectorAll('.card');
      cards.forEach(card => {
        card.style.display = (selected === 'all' || card.dataset.company === selected)
          ? 'block' : 'none';
      });
    }
  </script>
</body>
</html>
